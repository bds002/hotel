<!doctype html>
<html>
<head>
    <title>{{ dept_name }} Hotel Rooms</title>
    <link rel="stylesheet" type="text/css" href="../static/styles/styles.css" />
    <script src="../static/deps/combined.js"></script>
    <script src="../static_views/magfest.js"></script>
    <script src="../static/angular-apps/hotel/app.js"></script>
    <script type="text/javascript">
        var ROOM_DUMP = {{ dump|jsonize }};  // the Hotel service checks for a global variable with this name to preload the data
        angular.module('hotel')
            .controller('MainController', function ($scope, c, Hotel) {
                $scope.c = c;
                $scope.lists = Hotel.lists;
                $scope.department = {{ department }};
                $scope.departmentName = '{{ department_name }}';

                $scope.NIGHTS = {{ nights|jsonize }};
                $scope.csrf_token = '{{ c.CSRF_TOKEN }}';
                $scope.slug = '{{ checklist.conf.slug }}';
                $scope.relevant = {{ checklist.relevant|jsonize }};
                $scope.completed = {{ checklist.completed|yesno:"true,false" }};
                $scope.checklistDescription = {{ checklist.conf.description|jsonize }};
            });
    </script>
</head>
<body ng-app="hotel">
    <div ng-controller="MainController">
        <div ng-view></div>
    </div>
</body>
</html>
